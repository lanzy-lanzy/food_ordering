<!DOCTYPE html>
<html lang="en">
<head>
    {% include 'components/base/head.html' %}
    <!-- Add performance optimizations -->
    <script>
        // Disable transitions on page load for better performance
        document.documentElement.classList.add('no-transitions');
        window.addEventListener('load', function() {
            requestAnimationFrame(function() {
                document.documentElement.classList.remove('no-transitions');
            });
        });
    </script>
</head>
<body class="bg-food-black text-white min-h-screen">
    {% include 'components/header/nav.html' %}

    <main>
        {% block content %}
        {% endblock content %}
    </main>

    {% include 'components/footer/footer.html' %}

    <!-- HTMX CSRF Configuration -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Add CSRF token to all HTMX requests
            document.body.addEventListener('htmx:configRequest', function(evt) {
                if (evt.detail.verb === 'post' || evt.detail.verb === 'put' || evt.detail.verb === 'delete') {
                    evt.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
                }
            });
        });
    </script>

    {% block extra_scripts %}{% endblock extra_scripts %}
</body>
</html>
